var newComment = '<%=j render @comment %> ';

document.querySelector("#comments").insertAdjacentHTML('afterbegin', newComment);
document.getElementById(`comment-<%= @comment.id %>`).classList.add("highlight");

var removeHighlight = () => {
  document.getElementById(`comment-<%= @comment.id %>`).classList.remove("highlight");
}

setTimeout(removeHighlight, 3000);

document.querySelector("#link-<%= @link.id %>-comments").innerHTML = "<%= pluralize @link.comments.size, 'comment' %>";

var formInput = document.querySelector("#comment_body");
formInput.value = "";

var errorsDiv = document.querySelector(".invalid-feedback");
if (errorsDiv) {
  errorsDiv.style.display = 'none';
  formInput.classList.remove('is-invalid');
}

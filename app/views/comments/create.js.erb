var errorsDiv = document.querySelector(".invalid-feedback");
if (errorsDiv) {
  errorsDiv.style.display = 'none';
  document.querySelector("#comment_body").classList.remove('is-invalid');
}

var commentsDiv = document.querySelector("#comments");
var formInput = document.querySelector("#comment_body");
// var newComment = '<%=j render @comment %> ';
// console.log(newComment);
commentsDiv.insertAdjacentHTML('afterbegin', '<%=j render @comment %> ');
formInput.value = "";
var commentCount = document.querySelector("#link-<%= @link.id %>-comments");
commentCount.innerHTML = "<%= pluralize @link.comments.size, 'comment' %>";

